{"version":3,"sources":["hooks.ts","components/MeshWithCollision.tsx","model/Gumball_separated.tsx","components/Camera.tsx","utils/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["useKeyPress","targetKey","useState","keyPressed","setKeyPressed","downHandler","key","upHandler","useEffect","window","addEventListener","removeEventListener","MeshWithCollision","forwardRef","props","ref","lastPressed","setLastPressed","happyPress","meshes","geometriesAndMaterials","map","item","geometry","material","scale","Vector3","Array","fill","collisionGeometry","computeBoundingSphere","radius","boundingSphere","eps","createRef","useSphere","position","getRandom","rotation","Math","PI","mass","args","velocity","angularDamping","api","useFrame","set","angularVelocity","floor","random","Ball","nodes","useGLTF","Object_1020","Object_1020_1","i","Model","group","useRef","materials","handleDown","positions","from","Object_3003","attributes","array","index","getIndex","useTrimesh","holeref","positions3","Object_3002_1","index3","baseGeometry","Object_3001","positions2","index2","ref2","racoon1","Object_3010","Object_3010_1","itemsComponents","Object_3011","Object_3011_1","Object_3017","Object_3017_1","Object_3020","Object_3020_1","Object_3021","Object_3021_1","Object_3022","Object_3022_1","Object_3023","Object_3023_1","Object_3027","Object_3027_1","Object_3029","Object_3029_1","Object_1006","Object_1006_1","Object_1008","Object_1008_1","Object_1009","Object_1009_1","Object_1011","Object_1011_1","candy005","candy004","candy003","candy","Object_1014","Object_1014_1","Object_1015","Object_1015_1","useSpring","to","reverse","config","gentle","machine","Object_1027","Object_1027_1","Object_3009","Object_3009_1","Object_3008","Object_3008_1","Object_2009","Object_2009_1","Object_2004","Object_2004_1","Object_3003_1","lambert5SG","Object_4002","Object_4002_1","container_shiny","lambert2SG","Object_3001_1","Object_3002","Object_5","lambert4SG","Object_5_1","lambert7SG","Object_4003","Object_4003_1","childrenmap","setChildrenMap","childref","current","lastSpawned","setLastSpawned","spawnBall","newChild","code","replace","c","r","toString","setTimeout","a","e","dispose","balls","Plane","usePlane","transparent","opacity","preload","Camera","useThree","gl","camera","molasses","get","OrbitControls","target","domElement","fireRandom","defaults","origin","y","x","fire","particleRatio","opts","confetti","Object","assign","particleCount","spread","startVelocity","decay","scalar","getReward","firstReward","out","firstRewards","lastReward","localStorage","getItem","lastRewardInt","parseInt","length","setItem","whichFirstRewardToShow","rewards","total","threshold","states","baseState","next","showingOverlay","showingOverlay2","Overlay","rewardRef","ballPosition","setBallPosition","ballRotation","setBallRotation","hovering","setHovering","d","getWorldDirection","getWorldPosition","normalize","multiplyScalar","add","onPointerOver","event","onPointerOut","onClick","onBallClick","color","OtherOverlay","innerWidth","innerHeight","style","width","height","backgroundColor","zIndex","left","top","transform","fontSize","textAlign","text","App","Object3D","DefaultUp","confettiIntervals","setConfettiIntervals","rewardText","setRewardText","myState","setMyState","setHandleDown","nextState","interval1","setInterval","interval2","setConfetti","reset","forEach","timeout","clearInterval","fallback","gravity","defaultContactMaterial","restitution","values","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mRAEO,SAASA,EAAYC,GAE1B,MAAoCC,oBAAkB,GAAtD,mBAAOC,EAAP,KAAmBC,EAAnB,KAGA,SAASC,EAAT,GAAiC,EAAXC,MACRL,GACVG,GAAc,GAKlB,IAAMG,EAAY,SAAC,GAAe,EAAdD,MACNL,GACVG,GAAc,IAalB,OATAI,qBAAU,WAIR,OAHAC,OAAOC,iBAAiB,UAAWL,GACnCI,OAAOC,iBAAiB,QAASH,GAE1B,WACLE,OAAOE,oBAAoB,UAAWN,GACtCI,OAAOE,oBAAoB,QAASJ,MAErC,IACIJ,E,YCdIS,EAAoBC,sBAAW,SAACC,EAAYC,GACvD,MAAsCb,oBAAS,GAA/C,mBAAOc,EAAP,KAAoBC,EAApB,KACMC,EAAalB,EAAY,KAGzBmB,EAASL,EAAMM,uBAAuBC,KAAI,SAACC,GAC/C,OACE,sBAAMC,SAAUD,EAAK,GAAIE,SAAUF,EAAK,GAAIG,MAAK,YAAMC,UAAN,YAAiBC,MAAM,GAAGC,KAAKd,EAAMW,OAAS,UAI7FI,EAAoBf,EAAMe,kBAChCA,EAAkBC,wBAClB,IACMC,EADiBF,EAAkBG,eACXD,OAExBE,EAAM,EADF,SAEVlB,EAAMA,GAAOmB,sBACb,MAAoBC,aAAU,iBAAO,CACnCC,SAAUtB,EAAMsB,UAAY,CAAC,EAAIC,EAAUJ,GAAM,EAAII,EAAUJ,GAAM,MAAQI,EAAUJ,IACvFK,SAAU,CAACD,EAAU,EAAEE,KAAKC,GAAID,KAAKC,KAAMH,EAAU,EAAEE,KAAKC,GAAID,KAAKC,KAAMH,EAAU,EAAEE,KAAKC,GAAID,KAAKC,MACrGC,KAAM,EACNC,KAAM,SAAAX,EAAU,GAAV,SAAeA,EAAU,MAAQjB,EAAMW,OAAS,GACtDkB,SAAU7B,EAAM6B,SAChBC,eAAgB,OACd7B,GAPJ,mBAAa8B,GAAb,WAmBA,OAXAC,aAAS,WACH5B,EACGF,IACH6B,EAAIF,SAASI,IAAI,EAAG,EAAG,IACvBF,EAAIG,gBAAgBD,IAAI,GAAI,GAAI,IAChC9B,GAAe,IAGjBA,GAAe,MAIjB,uBAAOF,IAAKA,EAAZ,SACGI,OAKP,SAASkB,EAAUJ,GACjB,OAAOM,KAAKU,MAAMV,KAAKW,SAAWjB,EAAI,GAAKA,EAAI,I,YCjD1C,SAASkB,IACd,IAAOC,EAASC,YAAQ,2BAAjBD,MAED9B,EAAO,CACX8B,EAAME,YACNF,EAAMG,eASR,OAPiB,cAAC3C,EAAD,CACfiB,kBAAmBP,EAAK,GAAGC,SAC3BH,uBAAwBE,EAAKD,KAAI,SAAAmC,GAAC,MAAI,CAACA,EAAEjC,SAAUiC,EAAEhC,aACrDY,SAAU,CAAC,KAAO,KAAM,MACxBO,SAAU,CAAC,GAAI,GAAI,GACnBlB,MAAO,IAII,SAASgC,EAAM3C,GAC5B,IAAM4C,EAAQC,mBACd,EAA2BN,YAAQ,2BAA5BD,EAAP,EAAOA,MAAOQ,EAAd,EAAcA,UACR7C,EAAM4C,mBACNzC,EAAaJ,EAAM+C,WACnBC,EAAYnC,MAAMoC,KAAMX,EAAMY,YAAYzC,SAA4B0C,WAAW7B,SAAS8B,OAC1FC,EAAQxC,MAAMoC,KAAMX,EAAMY,YAAYzC,SAA4B6C,WAAYF,OACpF,EAAkBG,aAAW,iBAAO,CAClC3B,KAAM,CAACoB,EAAWK,GAClB/B,SAAU,CAAC,EAAG,EAAG,WAFZkC,EAAP,oBAKMC,EAAa5C,MAAMoC,KAAMX,EAAMoB,cAAcjD,SAA4B0C,WAAW7B,SAAS8B,OAC7FO,EAAS9C,MAAMoC,KAAMX,EAAMoB,cAAcjD,SAA4B6C,WAAYF,OACvFG,aAAW,iBAAO,CAChB3B,KAAM,CAAC6B,EAAYE,GAASrC,SAAU,CAAC,GAAI,IAAM,SAC/CrB,GAEJ,IAAM2D,EAAetB,EAAMuB,YAAYpD,SACjCqD,EAAajD,MAAMoC,KAAKW,EAAaT,WAAW7B,SAAS8B,OACzDW,EAASlD,MAAMoC,KAAKW,EAAaN,WAAYF,OACnD,EAAeG,aAAW,iBAAO,CAAC3B,KAAM,CAACkC,EAAYC,GAASzC,SAAU,CAAC,KAAO,IAAM,UAA/E0C,EAAP,oBAEIC,EAAU,CACZ3B,EAAM4B,YACN5B,EAAM6B,eA8FFC,EAxFY,CAChBH,EACAA,EANU,CACV3B,EAAM+B,YACN/B,EAAMgC,eAMN,CACEhC,EAAMiC,YACNjC,EAAMkC,eACL,CACDlC,EAAMiC,YACNjC,EAAMkC,eACL,CACDlC,EAAMiC,YACNjC,EAAMkC,eACL,CACDlC,EAAMiC,YACNjC,EAAMkC,eACL,CACDlC,EAAMiC,YACNjC,EAAMkC,eACL,CACDlC,EAAMiC,YACNjC,EAAMkC,eAER,CACElC,EAAMmC,YACNnC,EAAMoC,eAER,CACEpC,EAAMqC,YACNrC,EAAMsC,eAER,CACEtC,EAAMuC,YACNvC,EAAMwC,eAER,CACExC,EAAMyC,YACNzC,EAAM0C,eAER,CACE1C,EAAM2C,YACN3C,EAAM4C,eAER,CACE5C,EAAM6C,YACN7C,EAAM8C,eAER,CACE9C,EAAM+C,YACN/C,EAAMgD,eAER,CACEhD,EAAMiD,YACNjD,EAAMkD,eAER,CACElD,EAAMmD,YACNnD,EAAMoD,eAER,CACEpD,EAAMqD,YACNrD,EAAMsD,eAER,CACEtD,EAAMuD,UAER,CACEvD,EAAMwD,UAER,CACExD,EAAMyD,UAER,CACEzD,EAAM0D,OAER,CACE1D,EAAM2D,YACN3D,EAAM4D,eAER,CACE5D,EAAM6D,YACN7D,EAAM8D,eAER,CACE9D,EAAME,YACNF,EAAMG,gBAGwBlC,KAAI,SAAAC,GACpC,OAAO,cAACV,EAAD,CACLiB,kBAAmBP,EAAK,GAAGC,SAC3BH,uBAAwBE,EAAKD,KAAI,SAAAmC,GAAC,MAAI,CAACA,EAAEjC,SAAUiC,EAAEhC,aACrDmB,SAAUzB,EAAa,CAAC,EAAG,EAAG,IAAM,CAAC,EAAG,EAAG,QAGxCoB,EAAiB6E,oBAAU,CAChCpD,KAAM,CAACzB,SAAU,CAAC,EAAG,EAAG,IACxB8E,GAAI,CAAC9E,SAAU,CAAC,EAAG,EAAG,IACtB+E,QAASnG,EACToG,OAAQA,SAAOC,SAJVjF,SAMDkF,EAAU,kCACd,wBAAOpF,SAAU,EAAE,MAAO,EAAG,KAA7B,UACE,sBAAMb,SAAU6B,EAAMqE,YAAYlG,SAAUC,SAAU4B,EAAMqE,YAAYjG,WACxE,sBAAMD,SAAU6B,EAAMsE,cAAcnG,SAAUC,SAAU4B,EAAMsE,cAAclG,cAE9E,wBAAOY,SAAU,EAAE,MAAO,KAAM,KAAhC,UACE,sBAAMb,SAAU6B,EAAMuE,YAAYpG,SAAUC,SAAU4B,EAAMuE,YAAYnG,WACxE,sBAAMD,SAAU6B,EAAMwE,cAAcrG,SAAUC,SAAU4B,EAAMwE,cAAcpG,cAE9E,wBAAOY,SAAU,EAAE,MAAO,KAAM,KAAhC,UACE,sBAAMb,SAAU6B,EAAMyE,YAAYtG,SAAUC,SAAU4B,EAAMyE,YAAYrG,WACxE,sBAAMD,SAAU6B,EAAM0E,cAAcvG,SAAUC,SAAU4B,EAAM0E,cAActG,cAE9E,wBAAOY,SAAU,CAAC,MAAO,KAAM,MAA/B,UACE,sBAAMb,SAAU6B,EAAM2E,YAAYxG,SAAUC,SAAU4B,EAAM2E,YAAYvG,WACxE,sBAAMD,SAAU6B,EAAM4E,cAAczG,SAAUC,SAAU4B,EAAM4E,cAAcxG,cAE9E,wBAAOY,SAAU,CAAC,MAAO,KAAM,MAA/B,UACE,sBAAMb,SAAU6B,EAAM6E,YAAY1G,SAAUC,SAAU4B,EAAM6E,YAAYzG,WACxE,sBAAMD,SAAU6B,EAAM8E,cAAc3G,SAAUC,SAAU4B,EAAM8E,cAAc1G,cAE9E,kCACE,sBAAMY,SAAU,CAAC,EAAG,EAAG,OAAQb,SAAU6B,EAAMY,YAAYzC,SAAUC,SAAU4B,EAAMY,YAAYxC,WACjG,sBAAMY,SAAU,CAAC,EAAG,EAAG,OAAQb,SAAU6B,EAAM+E,cAAc5G,SAAUC,SAAUoC,EAAUwE,gBAE7F,wBAAOhG,SAAU,CAAC,EAAG,EAAG,OAAxB,UACE,sBAAMb,SAAU6B,EAAMiF,YAAY9G,SAAUC,SAAU4B,EAAMiF,YAAY7G,WACxE,sBAAMD,SAAU6B,EAAMkF,cAAc/G,SAAUC,SAAU4B,EAAMkF,cAAc9G,cAE9E,sBACED,SAAU6B,EAAMmF,gBAAgBhH,SAChCC,SAAU4B,EAAMmF,gBAAgB/G,SAChCY,SAAU,CAAC,MAAO,KAAM,SAE1B,sBAAMb,SAAU6B,EAAMH,MAAM1B,SAAUC,SAAUoC,EAAU4E,WAAYpG,SAAU,CAAC,EAAG,GAAI,OAExF,wBAAOA,SAAU,CAAC,KAAO,IAAM,MAAOrB,IAAK+D,EAA3C,UACE,sBAAMvD,SAAU6B,EAAMuB,YAAYpD,SAAUC,SAAU4B,EAAMuB,YAAYnD,WACxE,sBAAMD,SAAU6B,EAAMqF,cAAclH,SAAUC,SAAU4B,EAAMqF,cAAcjH,cAG9E,wBAAOY,SAAU,CAAC,GAAI,IAAM,MAAOrB,IAAKuD,EAAxC,UACE,sBAAM/C,SAAU6B,EAAMsF,YAAYnH,SAAUC,SAAU4B,EAAMsF,YAAYlH,WACxE,sBAAMD,SAAU6B,EAAMoB,cAAcjD,SAAUC,SAAU4B,EAAMoB,cAAchD,cAG9E,wBAAOY,SAAU,EAAE,KAAM,KAAM,OAA/B,UACE,sBAAMb,SAAU6B,EAAMuF,SAASpH,SAAUC,SAAUoC,EAAUgF,aAC7D,sBAAMrH,SAAU6B,EAAMyF,WAAWtH,SAAUC,SAAUoC,EAAUkF,gBAGjE,eAAC,WAASpF,MAAV,CAAgBtB,SAAU,CAAC,MAAW,KAAa,IAAM,GAAIE,SAAUA,EAAvE,UACE,+BACA,sBAAMf,SAAU6B,EAAM2F,YAAYxH,SAAUC,SAAU4B,EAAM2F,YAAYvH,SAAUY,SAAU,CAAC,IAAK,IAAK,KACvG,sBAAMb,SAAU6B,EAAM4F,cAAczH,SAAUC,SAAU4B,EAAM4F,cAAcxH,SAAUY,SAAU,CAAC,IAAK,IAAK,WAG/G,EAAsClC,mBAAS,IAA/C,mBAAO+I,EAAP,KAAoBC,EAApB,KACMC,EAAWxF,mBACjBwF,EAASC,QAAUH,EACnB,MAAsC/I,oBAAS,GAA/C,mBAAOmJ,EAAP,KAAoBC,EAApB,KACMC,EAAY,WAChB,IAAMC,EAAW,cAACrG,EAAD,IACXsG,EAiDD,uCAAuCC,QAAQ,SAAS,SAAUC,GACvE,IAAIC,EAAoB,GAAhBrH,KAAKW,SAAgB,EAC7B,OADyC,KAALyG,EAAWC,EAAS,EAAJA,EAAU,GACrDC,SAAS,OAlDlBX,EAAe,2BACVD,GADS,kBAEXQ,EAAOD,KAEVM,YAAW,WACT,IAAIC,EAAC,eACAZ,EAASC,gBAEPW,EAAEN,GACTP,EAAea,KACd,MAiBL,OAfAvJ,qBAAU,WACRC,OAAOC,iBAAiB,WAAW,SAACsJ,GACpB,MAAVA,EAAE1J,KAAgB+I,IACpBE,IACAD,GAAe,OAGnB7I,OAAOC,iBAAiB,SAAS,SAACsJ,GAClB,MAAVA,EAAE1J,KACJgJ,GAAe,SAOnB,eAAC,WAAS5F,MAAV,yBAAgB3C,IAAK2C,GAAW5C,GAAhC,IAAuCmJ,QAAS,KAAhD,UACGzC,EACAtC,EACApE,EAAMoJ,MACP,cAACC,EAAD,QAKN,SAASA,EAAMrJ,GACb,MAAcsJ,aAAS,iCAAWtJ,MAA3BC,EAAP,oBACA,OACE,uBAAMA,IAAKA,EAAX,UACE,qCAAqB2B,KAAM,CAAC,IAAK,OACjC,mCAAmB2H,aAAW,EAACC,QAAS,OAY9CjH,IAAQkH,QAAQ,2B,YC/QHC,EAAS,SAAC1J,GACrB,MAAuB2J,cAAfC,EAAR,EAAQA,GAAIC,EAAZ,EAAYA,OAENzJ,EAAalB,EAAY,KACxBoC,EAAY+E,oBAAU,CAC3BpD,KAAM,CACJ3B,SAAU,CAAC,EAAE,EAAE,IAEjBgF,GAAI,CACF,CACEhF,SAAU,CAAC,GAAG,GAAG,MAGrBA,SAAU,CAAC,GAAG,GAAG,IACjBiF,QAASnG,EACToG,OAAQA,SAAOsD,WAXVxI,SAiBP,OAJA5B,qBAAU,WACR,MAAkB4B,EAASyI,MAA3B,kCACAF,EAAOvI,SAASW,IAAI,GAAG,GAAG,OAG1B,cAAC+H,EAAA,EAAD,CAAeC,OAAQ,CAAC,EAAE,EAAE,IAAKrI,KAAM,CAACiI,EAAQD,EAAGM,e,QC1BhD,SAASC,IACd,IACIC,EAAW,CACbC,OAAQ,CAACC,EAAG7I,KAAKW,SAAUmI,EAAG9I,KAAKW,WAGrC,SAASoI,EAAKC,EAAeC,GAC3BC,YAASC,OAAOC,OAAO,GAAIT,EAAUM,EAAM,CACzCI,cAAerJ,KAAKU,MAPZ,IAO0BsI,MAItCD,EAAK,IAAM,CACTO,OAAQ,GACRC,cAAe,KAEjBR,EAAK,GAAK,CACRO,OAAQ,KAEVP,EAAK,IAAM,CACTO,OAAQ,IACRE,MAAO,IACPC,OAAQ,KAEVV,EAAK,GAAK,CACRO,OAAQ,IACRC,cAAe,GACfC,MAAO,IACPC,OAAQ,MAEVV,EAAK,GAAK,CACRO,OAAQ,IACRC,cAAe,KAyFnB,IAAMxL,EAAM,QAqBL,SAAS2L,IAGd,IAAMC,EAtBD,WACL,IAEIC,EAFEC,EAfC,CACL,UACA,0EACA,kHACA,4FACA,sCACA,+GACA,gCACA,oEAQIC,EAAaC,aAAaC,QAAQjM,GAExC,GAAmB,OAAf+L,EAAqB,CACvB,IAAMG,EAAgBC,SAASJ,GAC/B,GAAIG,GAAiBJ,EAAaM,OAChC,MAAO,GAGTP,EAAMC,EAAcI,EAAgB,GACpCF,aAAaK,QAAQrM,GAAMkM,EAAgB,GAAG3C,iBAE9CyC,aAAaK,QAAQrM,EAAK,KAC1B6L,EAAMC,EAAa,GAErB,OAAOD,EAMaS,GACpB,GAAIV,EACF,OAAOA,EA+DT,IA5DA,IAAMW,EAA8B,CAElC,CAAC,4BAA6B,KAC9B,CAAC,mDAAoD,KACrD,CAAC,4BAA6B,KAC9B,CAAC,eAAgB,KACjB,CAAC,eAAgB,KACjB,CAAC,oBAAqB,IACtB,CAAC,yBAA0B,KAC3B,CAAC,aAAc,KACf,CAAC,mBAAoB,KACrB,CAAC,yBAA0B,IAC3B,CAAC,wBAAyB,IAC1B,CAAC,mBAAoB,IACrB,CAAC,8BAA+B,IAChC,CAAC,mDAAoD,IACrD,CAAC,kBAAmB,IACpB,CAAC,kBAAmB,IACpB,CAAC,0BAA2B,IAC5B,CAAC,0BAA2B,IAC5B,CAAC,0BAA2B,IAC5B,CAAC,2BAA4B,IAC7B,CAAC,kBAAmB,IACpB,CAAC,UAAW,IACZ,CAAC,SAAU,IACX,CAAC,kBAAmB,GACpB,CAAC,gBAAiB,IAClB,CAAC,sDAAuD,IAGxD,CAAC,6CAA8C,KAC/C,CAAC,2BAA4B,IAC7B,CAAC,yBAA0B,IAC3B,CAAC,qBAAsB,IACvB,CAAC,kBAAmB,IAEpB,CAAC,sDAAuD,IACxD,CAAC,mDAAoD,IACrD,CAAC,mDAAoD,IACrD,CAAC,qDAAsD,IACvD,CAAC,oDAAqD,IACtD,CAAC,yEAA0E,KAkBzEC,EAAQ,EACHtJ,EAAI,EAAGA,EAAIqJ,EAAQH,SAAUlJ,EACpCsJ,GAASD,EAAQrJ,GAAG,GAKtB,IAAMuJ,EAAYxK,KAAKW,SAAW4J,EAOlCA,EAAQ,EACR,IAAK,IAAItJ,EAAI,EAAGA,EAAIqJ,EAAQH,OAAS,IAAKlJ,EAKxC,IAHAsJ,GAASD,EAAQrJ,GAAG,KAGPuJ,EACX,OAAOF,EAAQrJ,GAAG,GAAK,IAK3B,OAAOqJ,EAAQA,EAAQH,OAAS,GAAG,GAAK,ICnO1C,IAAMM,EAAS,CACbC,UAAW,CACTC,KAAM,kBAERC,eAAgB,CACdD,KAAM,mBAERE,gBAAiB,CACfF,KAAM,cAGV,SAASG,EAAQvM,GACf,IAAMwM,EAAY3J,mBACXgH,EAAUF,cAAVE,OACP,EAAwCzK,mBAAS,IAAIwB,UAAQ,EAAG,EAAG,IAAnE,mBAAO6L,EAAP,KAAqBC,EAArB,KACA,EAAwCtN,mBAAS,GAAjD,mBAAOuN,EAAP,KAAqBC,EAArB,KACOtK,EAASC,YAAQ,2BAAjBD,MACD9B,EAAO,CACX8B,EAAME,YACNF,EAAMG,eAER,EAAgCrD,oBAAS,GAAzC,mBAAOyN,EAAP,KAAiBC,EAAjB,KAcA,OAZA9K,aAAS,WACP,IAAM+K,EAAI,IAAInM,UAAQ,EAAG,EAAG,GACtBiI,EAAI,IAAIjI,UAAQ,EAAG,EAAG,GAC5BiJ,EAAOmD,kBAAkBD,GACzBlD,EAAOoD,iBAAiBpE,GACxBkE,EAAEG,YACCC,eAAe,GAClBtE,EAAEuE,IAAIL,GACNL,EAAgB7D,GAChB+D,EAAgBD,EAAe,SAI/B,wBAAOrL,SAAUmL,EAAjB,UACE,sBAAMxM,IAAKuM,EAAW/L,SAAUD,EAAK,GAAGC,SAAUC,SAAUF,EAAK,GAAGE,SAC9Dc,SAAU,CAAC,EAAG,GAAMmL,EAAcA,GAClCU,cAAe,SAACC,GAAD,OAAWR,GAAY,IACtCS,aAAc,SAACD,GAAD,OAAWR,GAAY,IACrCU,QAASxN,EAAMyN,YAJrB,SAME,sCAAsBC,MAAOb,EAAW,UAAY,aAEtD,sBAAM5M,IAAKuM,EAAW/L,SAAUD,EAAK,GAAGC,SAAUC,SAAUF,EAAK,GAAGE,SAC9Dc,SAAU,CAAC,EAAG,GAAMmL,EAAcA,QAK9C,SAASgB,EAAa3N,GACpB,MAAiDL,OAAjD,EAAOiO,WAAP,EAA0BC,YAE1B,OACE,qBACEC,MAAO,CACLxM,SAAU,WACVyM,MAAO,QACPC,OAAQ,QACRC,gBAAiB,qBACjBP,MAAO,QACPQ,OAAQ,GAPZ,SASE,qBAAKJ,MAAO,CACVxM,SAAU,WAAY6M,KAAM,MAAOC,IAAK,MACxCC,UAAW,wBACXC,SAAU,OACVC,UAAW,UAJb,SAMGvO,EAAMwO,MAAQ,oBA8FvBjM,IAAQkH,QAAQ,2BAEDgF,MA1Ff,WACEC,WAASC,UAAU1M,IAAI,EAAG,EAAG,GAC7B,MAAkD7C,mBAAgB,IAAlE,mBAAOwP,EAAP,KAA0BC,EAA1B,KACA,EAAoCzP,mBAAS,gBAA7C,mBAAO0P,EAAP,KAAmBC,EAAnB,KACA,EAA8B3P,mBAAS,aAAvC,mBAAO4P,EAAP,KAAgBC,EAAhB,KACA,EAAoC7P,oBAAS,GAA7C,mBAAO2D,EAAP,KAAmBmM,EAAnB,KACA,EAAsC9P,mBAAS,IAA/C,mBAAO+I,EAAP,KAAoBC,EAApB,KAEMC,EAAWxF,mBACjBwF,EAASC,QAAUH,EAEnB,IAUMqF,EAAU,WACd,IAAI2B,EAAYjD,EAAO8C,GAAS5C,KAEhC,GAAe,aAAX4C,EACFE,GAAc,GACdzG,IACAO,YAAW,WACTkG,GAAc,GACdD,EAAWE,KACV,UACE,GAAe,kBAAXH,EAA6B,CACtCD,EAAc5D,KArBE,WAClB,IAAMiE,EAAYC,aAAY,WAC5BlF,MACC,KAEGmF,EAAYD,aAAY,WAC5BlF,MACC,MACH0E,EAAqB,CAACO,EAAWE,IAc/BC,GACA,IAAIJ,EAAYjD,EAAO8C,GAAS5C,KAChC6C,EAAWE,OACS,mBAAXH,IACTQ,IACAP,EAAWE,KAGfzP,qBAAU,WAER,OADAC,OAAOC,iBAAiB,QAAS4N,GAC1B,WACL7N,OAAOE,oBAAoB,QAAS2N,OAGxC,IAAMgC,EAAQ,WACZZ,EAAkBa,SAAQ,SAAAC,GACxBC,cAAcD,MAEhBb,EAAqB,KAEjBpG,EAAY,WAChB,IAAMC,EAAW,cAACrG,EAAD,IACXsG,EDoGD,uCAAuCC,QAAQ,SAAS,SAAUC,GACvE,IAAIC,EAAoB,GAAhBrH,KAAKW,SAAgB,EAC7B,OADyC,KAALyG,EAAWC,EAAS,EAAJA,EAAU,GACrDC,SAAS,OCrGlBX,EAAe,2BACVD,GADS,kBAEXQ,EAAOD,KAEVM,YAAW,WACT,IAAIC,EAAC,eACAZ,EAASC,gBAEPW,EAAEN,GACTP,EAAea,KACd,MAGL,OACE,qCACc,mBAAX+F,EAA+B,cAACrB,EAAD,CAAca,KAAMM,IAAgB,KACpE,eAAC,IAAD,CAAQhB,MAAO,CAACE,OAAQ,SAAxB,UACc,kBAAXgB,EAA8B,cAACzC,EAAD,IAAa,KAC5C,iCACA,4BAAYjL,SAAU,CAAC,GAAI,GAAI,MAC/B,cAAC,WAAD,CAAUsO,SAAU,KAApB,SACE,eAAC,IAAD,CAASC,QAAS,CAAC,EAAG,GAAI,IAAKC,uBAAwB,CAACC,YAAa,IAArE,UACE,cAAC,IAAD,CAAOrC,MAAM,QAAQ/M,MAAO,OAE5B,cAACgC,EAAD,CAAOI,WAAYA,EAAYqG,MAAOwB,OAAOoF,OAAO7H,UAGxD,cAAC,EAAD,WC3JO8H,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.ad1a0395.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport function useKeyPress(targetKey: any) {\n  // State for keeping track of whether key is pressed\n  const [keyPressed, setKeyPressed] = useState<boolean>(false);\n\n  // If pressed key is our target key then set to true\n  function downHandler({key}: any) {\n    if (key === targetKey) {\n      setKeyPressed(true);\n    }\n  }\n\n  // If released key is our target key then set to false\n  const upHandler = ({key}: any) => {\n    if (key === targetKey) {\n      setKeyPressed(false);\n    }\n  };\n  // Add event listeners\n  useEffect(() => {\n    window.addEventListener(\"keydown\", downHandler);\n    window.addEventListener(\"keyup\", upHandler);\n    // Remove event listeners on cleanup\n    return () => {\n      window.removeEventListener(\"keydown\", downHandler);\n      window.removeEventListener(\"keyup\", upHandler);\n    };\n  }, []); // Empty array ensures that effect is only run on mount and unmount\n  return keyPressed;\n}","import React, { createRef, forwardRef, useState } from \"react\";\nimport { BufferGeometry } from \"three/src/core/BufferGeometry\";\nimport { useSphere } from \"@react-three/cannon\";\nimport { Sphere, Material, Vector3 } from \"three\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { useKeyPress } from \"../hooks\";\n\nexport interface MeshWithCollisionProps {\n  geometriesAndMaterials: [BufferGeometry, Material][],\n  collisionGeometry: BufferGeometry,\n  position?: number[],\n  velocity?: number[],\n  scale?: number\n}\n\nexport const MeshWithCollision = forwardRef((props: any, ref?: any) => {\n  const [lastPressed, setLastPressed] = useState(false)\n  const happyPress = useKeyPress(\"h\");\n\n\n  const meshes = props.geometriesAndMaterials.map((item: any[]) => {\n    return (\n      <mesh geometry={item[0]} material={item[1]} scale={new Vector3(...Array(3).fill(props.scale || 1))}>\n      </mesh>\n    )\n  })\n  const collisionGeometry = props.collisionGeometry as BufferGeometry\n  collisionGeometry.computeBoundingSphere();\n  const boundingSphere = collisionGeometry.boundingSphere as Sphere;\n  const radius = boundingSphere.radius as number;\n  const d = 2.5\n  const eps = [-d, d]\n  ref = ref || createRef();\n  const [ref2, api] = useSphere(() => ({\n    position: props.position || [0 + getRandom(eps), 0 + getRandom(eps), 14.65 + getRandom(eps)],\n    rotation: [getRandom([-Math.PI, Math.PI]), getRandom([-Math.PI, Math.PI]), getRandom([-Math.PI, Math.PI])],\n    mass: 1,\n    args: radius ** 2 / (radius ** 1.3) * (props.scale || 1),\n    velocity: props.velocity,\n    angularDamping: 0.99,\n  }), ref)\n  useFrame(() => {\n    if (happyPress) {\n      if (!lastPressed) {\n        api.velocity.set(0, 0, 30);\n        api.angularVelocity.set(10, 12, 13)\n        setLastPressed(true)\n      }\n    } else {\n      setLastPressed(false);\n    }\n  })\n  return (\n    <group ref={ref}>\n      {meshes}\n    </group>\n  )\n})\n\nfunction getRandom(eps: number[]) {\n  return Math.floor(Math.random() * eps[1] - eps[0])\n}\n\n","/*\nAuto-generated by: https://github.com/pmndrs/gltfjsx\n*/\n\nimport React, { useEffect, useRef, useState } from 'react'\nimport { useGLTF } from '@react-three/drei'\nimport { usePlane, useTrimesh } from \"@react-three/cannon\";\nimport { BufferGeometry } from \"three/src/core/BufferGeometry\";\nimport { MeshWithCollision } from \"../components/MeshWithCollision\";\nimport { useSpring, animated, config } from \"@react-spring/three\";\nimport { useKeyPress } from \"../hooks\";\nexport function Ball() {\n  const {nodes} = useGLTF('/gumball_separated.gltf') as any\n\n  const item = [\n    nodes.Object_1020,\n    nodes.Object_1020_1,\n  ]\n  const newChild = <MeshWithCollision\n    collisionGeometry={item[0].geometry}\n    geometriesAndMaterials={item.map(i => [i.geometry, i.material])}\n    position={[0.09, -5.41, 2.66]}\n    velocity={[0, -8, -4]}\n    scale={2}\n  />\n  return newChild\n}\nexport default function Model(props: any) {\n  const group = useRef()\n  const {nodes, materials} = useGLTF('/gumball_separated.gltf') as any\n  const ref = useRef() as any;\n  const happyPress = props.handleDown\n  const positions = Array.from((nodes.Object_3003.geometry as BufferGeometry).attributes.position.array)\n  const index = Array.from((nodes.Object_3003.geometry as BufferGeometry).getIndex()!.array)\n  const [holeref] = useTrimesh(() => ({\n    args: [positions, index],\n    position: [0, 0, 14.65],\n  }))\n\n  const positions3 = Array.from((nodes.Object_3002_1.geometry as BufferGeometry).attributes.position.array)\n  const index3 = Array.from((nodes.Object_3002_1.geometry as BufferGeometry).getIndex()!.array)\n  useTrimesh(() => ({\n    args: [positions3, index3], position: [0, -0.83, 2.79]\n  }), ref)\n\n  const baseGeometry = nodes.Object_3001.geometry as BufferGeometry;\n  const positions2 = Array.from(baseGeometry.attributes.position.array)\n  const index2 = Array.from(baseGeometry.getIndex()!.array)\n  const [ref2] = useTrimesh(() => ({args: [positions2, index2], position: [0.09, -0.41, 4.66]}))\n\n  let racoon1 = [\n    nodes.Object_3010,\n    nodes.Object_3010_1\n  ];\n  let ball1 = [\n    nodes.Object_3011,\n    nodes.Object_3011_1\n  ];\n  const itemsMeta = [\n    racoon1,\n    racoon1,\n    ball1,\n    [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ], [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ], [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ], [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ], [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ], [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ],\n    [\n      nodes.Object_3020,\n      nodes.Object_3020_1\n    ],\n    [\n      nodes.Object_3021,\n      nodes.Object_3021_1\n    ],\n    [\n      nodes.Object_3022,\n      nodes.Object_3022_1\n    ],\n    [\n      nodes.Object_3023,\n      nodes.Object_3023_1\n    ],\n    [\n      nodes.Object_3027,\n      nodes.Object_3027_1\n    ],\n    [\n      nodes.Object_3029,\n      nodes.Object_3029_1\n    ],\n    [\n      nodes.Object_1006,\n      nodes.Object_1006_1\n    ],\n    [\n      nodes.Object_1008,\n      nodes.Object_1008_1\n    ],\n    [\n      nodes.Object_1009,\n      nodes.Object_1009_1\n    ],\n    [\n      nodes.Object_1011,\n      nodes.Object_1011_1\n    ],\n    [\n      nodes.candy005\n    ],\n    [\n      nodes.candy004\n    ],\n    [\n      nodes.candy003\n    ],\n    [\n      nodes.candy\n    ],\n    [\n      nodes.Object_1014,\n      nodes.Object_1014_1,\n    ],\n    [\n      nodes.Object_1015,\n      nodes.Object_1015_1,\n    ],\n    [\n      nodes.Object_1020,\n      nodes.Object_1020_1,\n    ]\n  ]\n  const itemsComponents = itemsMeta.map(item => {\n    return <MeshWithCollision\n      collisionGeometry={item[0].geometry}\n      geometriesAndMaterials={item.map(i => [i.geometry, i.material])}\n      velocity={happyPress ? [0, 0, 10] : [0, 0, 0]}\n    />\n  })\n  const {rotation}: any = useSpring({\n    from: {rotation: [1, 0, 0]},\n    to: {rotation: [0, 0, 0]},\n    reverse: happyPress,\n    config: config.gentle\n  });\n  const machine = <group>\n    <group position={[-5.58, -6, 0.93]}>\n      <mesh geometry={nodes.Object_1027.geometry} material={nodes.Object_1027.material}/>\n      <mesh geometry={nodes.Object_1027_1.geometry} material={nodes.Object_1027_1.material}/>\n    </group>\n    <group position={[-7.32, -6.38, 0.54]}>\n      <mesh geometry={nodes.Object_3009.geometry} material={nodes.Object_3009.material}/>\n      <mesh geometry={nodes.Object_3009_1.geometry} material={nodes.Object_3009_1.material}/>\n    </group>\n    <group position={[-7.02, -4.59, 0.98]}>\n      <mesh geometry={nodes.Object_3008.geometry} material={nodes.Object_3008.material}/>\n      <mesh geometry={nodes.Object_3008_1.geometry} material={nodes.Object_3008_1.material}/>\n    </group>\n    <group position={[9.76, -6.27, 2.63]}>\n      <mesh geometry={nodes.Object_2009.geometry} material={nodes.Object_2009.material}/>\n      <mesh geometry={nodes.Object_2009_1.geometry} material={nodes.Object_2009_1.material}/>\n    </group>\n    <group position={[7.04, -8.33, 1.55]}>\n      <mesh geometry={nodes.Object_2004.geometry} material={nodes.Object_2004.material}/>\n      <mesh geometry={nodes.Object_2004_1.geometry} material={nodes.Object_2004_1.material}/>\n    </group>\n    <group>\n      <mesh position={[0, 0, 14.65]} geometry={nodes.Object_3003.geometry} material={nodes.Object_3003.material}/>\n      <mesh position={[0, 0, 14.65]} geometry={nodes.Object_3003_1.geometry} material={materials.lambert5SG}/>\n    </group>\n    <group position={[0, 0, 22.18]}>\n      <mesh geometry={nodes.Object_4002.geometry} material={nodes.Object_4002.material}/>\n      <mesh geometry={nodes.Object_4002_1.geometry} material={nodes.Object_4002_1.material}/>\n    </group>\n    <mesh\n      geometry={nodes.container_shiny.geometry}\n      material={nodes.container_shiny.material}\n      position={[5.26, -2.53, 17.09]}\n    />\n    <mesh geometry={nodes.floor.geometry} material={materials.lambert2SG} position={[0, 0, -0.27]}/>\n    {/*base*/}\n    <group position={[0.09, -0.41, 4.66]} ref={ref2}>\n      <mesh geometry={nodes.Object_3001.geometry} material={nodes.Object_3001.material}/>\n      <mesh geometry={nodes.Object_3001_1.geometry} material={nodes.Object_3001_1.material}/>\n    </group>\n    {/*holecover*/}\n    <group position={[0, -0.83, 2.79]} ref={holeref}>\n      <mesh geometry={nodes.Object_3002.geometry} material={nodes.Object_3002.material}/>\n      <mesh geometry={nodes.Object_3002_1.geometry} material={nodes.Object_3002_1.material}/>\n    </group>\n    {/*stars*/}\n    <group position={[-3.42, 4.08, 12.44]}>\n      <mesh geometry={nodes.Object_5.geometry} material={materials.lambert4SG}/>\n      <mesh geometry={nodes.Object_5_1.geometry} material={materials.lambert7SG}/>\n    </group>\n    {/*handle*/}\n    <animated.group position={[4.54 - .7, -5.55 + 1.5, 4.1 - 2]} rotation={rotation}>\n      <axesHelper/>\n      <mesh geometry={nodes.Object_4003.geometry} material={nodes.Object_4003.material} position={[.7, -1.5, 2]}/>\n      <mesh geometry={nodes.Object_4003_1.geometry} material={nodes.Object_4003_1.material} position={[.7, -1.5, 2]}/>\n    </animated.group>\n  </group>\n  const [childrenmap, setChildrenMap] = useState({} as object)\n  const childref = useRef() as any\n  childref.current = childrenmap\n  const [lastSpawned, setLastSpawned] = useState(false);\n  const spawnBall = () => {\n    const newChild = <Ball/>;\n    const code = uuidv4();\n    setChildrenMap({\n      ...childrenmap,\n      [code]: newChild\n    })\n    setTimeout(() => {\n      let a = {\n        ...childref.current,\n      }\n      delete a[code]\n      setChildrenMap(a)\n    }, 10000)\n  }\n  useEffect(() => {\n    window.addEventListener(\"keydown\", (e) => {\n      if (e.key === \"h\" && !lastSpawned) {\n        spawnBall()\n        setLastSpawned(true)\n      }\n    });\n    window.addEventListener(\"keyup\", (e) => {\n      if (e.key === \"h\") {\n        setLastSpawned(false);\n      }\n    })\n  })\n\n\n  return (\n    <animated.group ref={group} {...props} dispose={null}>\n      {machine}\n      {itemsComponents}\n      {props.balls}\n      <Plane/>\n    </animated.group>\n  )\n}\n\nfunction Plane(props: any) {\n  const [ref] = usePlane(() => ({...props}))\n  return (\n    <mesh ref={ref}>\n      <planeBufferGeometry args={[100, 100]}/>\n      <meshBasicMaterial transparent opacity={0}/>\n    </mesh>\n  )\n}\n\nfunction uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\nuseGLTF.preload('/gumball_separated.gltf')\n","import { useSpring, animated, config } from \"@react-spring/three\";\nimport { useKeyPress } from \"../hooks\";\nimport { OrbitControls } from \"@react-three/drei\";\nimport { useFrame, useThree } from \"@react-three/fiber\";\nimport { useEffect } from \"react\";\n\nexport const Camera = (props) => {\n  const { gl, camera } = useThree();\n\n  const happyPress = useKeyPress('h');\n  const {position} = useSpring({\n    from: {\n      position: [0,0,0],\n    },\n    to: [\n      {\n        position: [0,-30,15],\n      },\n      ],\n    position: [0,-40,10],\n    reverse: happyPress,\n    config: config.molasses\n  })\n  useEffect(() => {\n    const [x, y ,z] = position.get()\n    camera.position.set(0,-30,15)\n  })\n  return (\n    <OrbitControls target={[0,0,10]} args={[camera, gl.domElement]}/>\n  )\n};\n","import confetti from \"canvas-confetti\";\n\nexport function fireRandom() {\n  var count = 200;\n  var defaults = {\n    origin: {y: Math.random(), x: Math.random()}\n  };\n\n  function fire(particleRatio, opts) {\n    confetti(Object.assign({}, defaults, opts, {\n      particleCount: Math.floor(count * particleRatio)\n    }));\n  }\n\n  fire(0.25, {\n    spread: 26,\n    startVelocity: 55,\n  });\n  fire(0.2, {\n    spread: 60,\n  });\n  fire(0.35, {\n    spread: 100,\n    decay: 0.91,\n    scalar: 0.8\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 25,\n    decay: 0.92,\n    scalar: 1.2\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 45,\n  });\n}\n\nexport function doDefaultConfetti(e) {\n  var count = 200;\n  var defaults = {\n    origin: {y: 0.7}\n  };\n\n  function fire(particleRatio, opts) {\n    confetti(Object.assign({}, defaults, opts, {\n      particleCount: Math.floor(count * particleRatio)\n    }));\n  }\n\n  fire(0.25, {\n    spread: 26,\n    startVelocity: 55,\n  });\n  fire(0.2, {\n    spread: 60,\n  });\n  fire(0.35, {\n    spread: 100,\n    decay: 0.91,\n    scalar: 0.8\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 25,\n    decay: 0.92,\n    scalar: 1.2\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 45,\n  });\n}\n\nexport function doConfetti(e, vw, vh) {\n  var count = 200;\n  var defaults = {\n    origin: {x: e.pageX / vw, y: e.pageY / vh}\n  };\n\n  function fire(particleRatio, opts) {\n    confetti(Object.assign({}, defaults, opts, {\n      particleCount: Math.floor(count * particleRatio)\n    }));\n  }\n\n  fire(0.25, {\n    spread: 26,\n    startVelocity: 55,\n  });\n  fire(0.2, {\n    spread: 60,\n  });\n  fire(0.35, {\n    spread: 100,\n    decay: 0.91,\n    scalar: 0.8\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 25,\n    decay: 0.92,\n    scalar: 1.2\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 45,\n  });\n}\n\nexport function getFirstRewards() {\n  return [\n    \"Hi Linh\",\n    \"I remembered so you can't do that thing I said you could do if I forgot\",\n    \"The time we spent together in the past year were some of the most exciting and most happiest moments of my life\",\n    \"We've had our ups and downs, experienced new things together, been to new places together\",\n    \"You've lifted me up when I was down\",\n    \"Although our first year together passed by in the blink of an eye I'm glad we were able to spend it together\",\n    \"I love you, happy anniversary\",\n    \"From here on out, you'll get small prizes from this guy so glhf!\",\n  ]\n}\n\nconst key = \"myCat\";\n\nexport function whichFirstRewardToShow(): string {\n  const firstRewards = getFirstRewards();\n  const lastReward = localStorage.getItem(key);\n  let out: string;\n  if (lastReward !== null) {\n    const lastRewardInt = parseInt(lastReward);\n    if (lastRewardInt >= firstRewards.length) {\n      return \"\"\n    }\n\n    out = firstRewards[ lastRewardInt + 1]\n    localStorage.setItem(key, (lastRewardInt + 1).toString())\n  } else {\n    localStorage.setItem(key, \"0\");\n    out = firstRewards[0];\n  }\n  return out\n}\n\nexport function getReward() {\n  //TODO set a limit for rewards already gotten\n  //TODO set a limit for rolls\n  const firstReward = whichFirstRewardToShow();\n  if (firstReward) {\n    return firstReward;\n  }\n  // higher number = more common\n  const rewards: [string, number][] = [\n    // rewards :)\n    ['Literally skip the dishes', 100],\n    ['Homecooked breakfast/lunch/dinner of your choice', 100],\n    ['Restaurant of your choice', 100],\n    ['Foot massage', 100],\n    ['Back massage', 100],\n    ['Full body massage', 60],\n    ['Shoulders/back massage', 100],\n    [\"1 free hug\", 100],\n    ['Homecooked lunch', 100],\n    ['Ride to work for 1 day', 50],\n    ['Tiktok of your choice', 50],\n    ['Breakfast in bed', 50],\n    [\"One day of no interruptions\", 50],\n    [\"Discord nitro for 1 month (2 months if you meow)\", 50],\n    ['Special request', 40],\n    ['Special flowers', 40],\n    [\"Jordan cleans your room\", 40],\n    ['Restaurant of my choice', 30],\n    ['Ride to work for 5 days', 30],\n    ['Ride to work for 10 days', 10],\n    ['You get nothing', 10],\n    [\"Yes day\", 10],\n    [\"No day\", 10],\n    [\"Go fast eat ass\", 1],\n    [\"5 gifted subs\", 10],\n    [\"I will scream one word of your choice out my window\", 10],\n\n    // punishments :(\n    ['Matching Halloween costumes of your choice', 100],\n    [\"You can put makeup on me\", 40],\n    ['Cosplay of your choice', 90],\n    [\"One day without me\", 10],\n    [\"One day with me\", 10],\n\n    ['Ajay will pay for dinner of our choice (max $1 USD)', 10],\n    ['Derek will pay for dinner of our choice (max $1)', 10],\n    ['Bilal will pay for dinner of our choice (max $1)', 10],\n    ['Stephen will pay for dinner of our choice (max $1)', 10],\n    ['Khansa will pay for dinner of our choice (max $1)', 10],\n    ['Aaron will pay for dinner of our choice (max $100) (he can come along)', 10],\n  ];\n\n\n\n\n\n\n\n\n\n\n\n\n\n  // First, we loop the main dataset to count up the total weight.\n  // We're starting the counter at one because the upper boundary\n  // of Math.random() is exclusive.\n  let total = 0;\n  for (let i = 0; i < rewards.length; ++i) {\n    total += rewards[i][1];\n  }\n\n  // Total in hand, we can now pick a random value akin to our\n  // random index from before.\n  const threshold = Math.random() * total;\n\n  // Now we just need to loop through the main data one more time\n  // until we discover which value would live within this\n  // particular threshold. We need to keep a running count of\n  // weights as we go, so let's just reuse the \"total\" variable\n  // since it was already declared.\n  total = 0;\n  for (let i = 0; i < rewards.length - 1; ++i) {\n    // Add the weight to our running total.\n    total += rewards[i][1];\n\n    // If this value falls within the threshold, we're done!\n    if (total >= threshold) {\n      return rewards[i][0] + \"!\";\n    }\n  }\n\n  // Wouldn't you know it, we needed the very last entry!\n  return rewards[rewards.length - 1][0] + \"!\";\n}\n\nexport function uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}","import React, { Suspense, useEffect, useRef, useState } from 'react';\nimport './App.css';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\nimport Model, { Ball } from \"./model/Gumball_separated\";\nimport { Debug, Physics } from '@react-three/cannon'\nimport { Object3D, Vector3 } from \"three\";\nimport { Camera } from \"./components/Camera\";\nimport { useGLTF } from \"@react-three/drei\";\nimport { fireRandom, getReward, uuidv4 } from \"./utils\";\n\nconst states = {\n  baseState: {\n    next: \"showingOverlay\"\n  },\n  showingOverlay: {\n    next: \"showingOverlay2\"\n  },\n  showingOverlay2: {\n    next: \"baseState\"\n  }\n}\nfunction Overlay(props) {\n  const rewardRef = useRef<Object3D>();\n  const {camera} = useThree();\n  const [ballPosition, setBallPosition] = useState(new Vector3(0, 0, 0));\n  const [ballRotation, setBallRotation] = useState(0);\n  const {nodes} = useGLTF('/gumball_separated.gltf') as any\n  const item = [\n    nodes.Object_1020,\n    nodes.Object_1020_1,\n  ]\n  const [hovering, setHovering] = useState(false);\n\n  useFrame(() => {\n    const d = new Vector3(0, 0, 0)\n    const c = new Vector3(0, 0, 0)\n    camera.getWorldDirection(d);\n    camera.getWorldPosition(c);\n    d.normalize()\n      .multiplyScalar(5);\n    c.add(d)\n    setBallPosition(c);\n    setBallRotation(ballRotation + 0.005)\n  })\n\n  return (\n    <group position={ballPosition}>\n      <mesh ref={rewardRef} geometry={item[0].geometry} material={item[0].material}\n            rotation={[0, 0.1 * ballRotation, ballRotation]}\n            onPointerOver={(event) => setHovering(true)}\n            onPointerOut={(event) => setHovering(false)}\n            onClick={props.onBallClick}\n      >\n        <meshStandardMaterial color={hovering ? 'hotpink' : 'orange'}/>\n      </mesh>\n      <mesh ref={rewardRef} geometry={item[1].geometry} material={item[1].material}\n            rotation={[0, 0.1 * ballRotation, ballRotation]}/>\n    </group>\n  )\n}\n\nfunction OtherOverlay(props) {\n  const {innerWidth: width, innerHeight: height} = window;\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        width: \"100vw\",\n        height: \"100vh\",\n        backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n        color: \"white\",\n        zIndex: 1\n      }}>\n      <div style={{\n        position: 'absolute', left: '50%', top: '50%',\n        transform: 'translate(-50%, -50%)',\n        fontSize: \"50px\",\n        textAlign: \"center\"\n      }}>\n        {props.text || \"Hello, world!\"}\n      </div>\n    </div>\n  )\n}\n\nfunction App() {\n  Object3D.DefaultUp.set(0, 0, 1);\n  const [confettiIntervals, setConfettiIntervals] = useState<any[]>([]);\n  const [rewardText, setRewardText] = useState(\"Hello World!\");\n  const [myState, setMyState] = useState(\"baseState\");\n  const [handleDown, setHandleDown] = useState(false);\n  const [childrenmap, setChildrenMap] = useState({} as object)\n  \n  const childref = useRef() as any\n  childref.current = childrenmap\n\n  const setConfetti = () => {\n    const interval1 = setInterval(() => {\n      fireRandom()\n    }, 1000)\n\n    const interval2 = setInterval(() => {\n      fireRandom()\n    }, 1645)\n    setConfettiIntervals([interval1, interval2])\n  }\n  const onClick = () => {\n    let nextState = states[myState].next\n\n    if (myState == \"baseState\") {\n      setHandleDown(true);\n      spawnBall()\n      setTimeout(() => {\n        setHandleDown(false);\n        setMyState(nextState)\n      }, 2000)\n    } else if (myState == \"showingOverlay\") {\n      setRewardText(getReward())\n      setConfetti()\n      let nextState = states[myState].next\n      setMyState(nextState)\n    } else if (myState == \"showingOverlay2\") {\n      reset()\n      setMyState(nextState)\n    }\n  }\n  useEffect(() => {\n    window.addEventListener(\"click\", onClick);\n    return () => {\n      window.removeEventListener('click', onClick)\n    }\n  })\n  const reset = () => {\n    confettiIntervals.forEach(timeout => {\n      clearInterval(timeout)\n    })\n    setConfettiIntervals([])\n  }\n  const spawnBall = () => {\n    const newChild = <Ball/>;\n    const code = uuidv4();\n    setChildrenMap({\n      ...childrenmap,\n      [code]: newChild\n    })\n    setTimeout(() => {\n      let a = {\n        ...childref.current,\n      }\n      delete a[code]\n      setChildrenMap(a)\n    }, 10000)\n  }\n\n  return (\n    <>\n      {myState == \"showingOverlay2\" ? <OtherOverlay text={rewardText}/> : null}\n      <Canvas style={{height: \"100vh\"}}>\n        {myState == \"showingOverlay\" ? <Overlay/> : null}\n        <ambientLight/>\n        <pointLight position={[10, 10, 10]}/>\n        <Suspense fallback={null}>\n          <Physics gravity={[0, 0, -10]} defaultContactMaterial={{restitution: 0.5}}>\n            <Debug color=\"black\" scale={1.05}>\n            </Debug>\n            <Model handleDown={handleDown} balls={Object.values(childrenmap)}/>\n          </Physics>\n        </Suspense>\n        <Camera/>\n      </Canvas>\n    </>\n  );\n}\nuseGLTF.preload('/gumball_separated.gltf')\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
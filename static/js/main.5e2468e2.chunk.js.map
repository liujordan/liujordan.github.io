{"version":3,"sources":["hooks.ts","components/MeshWithCollision.tsx","model/Gumball_separated.tsx","components/Camera.tsx","utils/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["useKeyPress","targetKey","useState","keyPressed","setKeyPressed","downHandler","key","upHandler","useEffect","window","addEventListener","removeEventListener","MeshWithCollision","forwardRef","props","ref","lastPressed","setLastPressed","happyPress","meshes","geometriesAndMaterials","map","item","geometry","material","scale","Vector3","Array","fill","collisionGeometry","computeBoundingSphere","radius","boundingSphere","eps","createRef","useSphere","position","getRandom","rotation","Math","PI","mass","args","velocity","angularDamping","api","useFrame","set","angularVelocity","floor","random","Model","group","useRef","useGLTF","nodes","materials","positions","from","Object_3003","attributes","array","index","getIndex","useTrimesh","holeref","positions3","Object_3002_1","index3","baseGeometry","Object_3001","positions2","index2","ref2","racoon1","Object_3010","Object_3010_1","itemsComponents","Object_3011","Object_3011_1","Object_3017","Object_3017_1","Object_3020","Object_3020_1","Object_3021","Object_3021_1","Object_3022","Object_3022_1","Object_3023","Object_3023_1","Object_3027","Object_3027_1","Object_3029","Object_3029_1","Object_1006","Object_1006_1","Object_1008","Object_1008_1","Object_1009","Object_1009_1","Object_1011","Object_1011_1","candy005","candy004","candy003","candy","Object_1014","Object_1014_1","Object_1015","Object_1015_1","Object_1020","Object_1020_1","i","useSpring","to","reverse","config","gentle","machine","Object_1027","Object_1027_1","Object_3009","Object_3009_1","Object_3008","Object_3008_1","Object_2009","Object_2009_1","Object_2004","Object_2004_1","Object_3003_1","lambert5SG","Object_4002","Object_4002_1","container_shiny","lambert2SG","Object_3001_1","Object_3002","Object_5","lambert4SG","Object_5_1","lambert7SG","Object_4003","Object_4003_1","childrenmap","setChildrenMap","childref","current","lastSpawned","setLastSpawned","spawnBall","newChild","code","replace","c","r","toString","setTimeout","a","e","dispose","Object","values","Plane","usePlane","transparent","opacity","preload","Camera","useThree","gl","camera","molasses","get","x","y","z","OrbitControls","target","domElement","fireRandom","defaults","origin","fire","particleRatio","opts","confetti","assign","particleCount","spread","startVelocity","decay","scalar","Overlay","rewardRef","ballPosition","setBallPosition","ballRotation","setBallRotation","hovering","setHovering","d","getWorldDirection","getWorldPosition","normalize","multiplyScalar","add","onPointerOver","event","onPointerOut","onClick","onBallClick","color","OtherOverlay","width","innerWidth","height","innerHeight","style","backgroundColor","zIndex","vw","vh","pageX","pageY","doConfetti","left","top","transform","fontSize","textAlign","text","App","Object3D","DefaultUp","overlayVisible","setOverlayVisible","overlay2Visible","setOverlay2Visible","overlayDelay","setOverlayDelay","confettiIntervals","setConfettiIntervals","rewardText","setRewardText","aFunc","bFunc","reset","forEach","timeout","clearInterval","rewards","total","length","threshold","getReward","interval1","setInterval","interval2","setConfetti","fallback","gravity","defaultContactMaterial","restitution","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5e2468e2.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport function useKeyPress(targetKey: any) {\n  // State for keeping track of whether key is pressed\n  const [keyPressed, setKeyPressed] = useState<boolean>(false);\n\n  // If pressed key is our target key then set to true\n  function downHandler({key}: any) {\n    if (key === targetKey) {\n      setKeyPressed(true);\n    }\n  }\n\n  // If released key is our target key then set to false\n  const upHandler = ({key}: any) => {\n    if (key === targetKey) {\n      setKeyPressed(false);\n    }\n  };\n  // Add event listeners\n  useEffect(() => {\n    window.addEventListener(\"keydown\", downHandler);\n    window.addEventListener(\"keyup\", upHandler);\n    // Remove event listeners on cleanup\n    return () => {\n      window.removeEventListener(\"keydown\", downHandler);\n      window.removeEventListener(\"keyup\", upHandler);\n    };\n  }, []); // Empty array ensures that effect is only run on mount and unmount\n  return keyPressed;\n}","import React, { createRef, forwardRef, useState } from \"react\";\nimport { BufferGeometry } from \"three/src/core/BufferGeometry\";\nimport { useSphere } from \"@react-three/cannon\";\nimport { Sphere, Material, Vector3 } from \"three\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { useKeyPress } from \"../hooks\";\n\nexport interface MeshWithCollisionProps {\n  geometriesAndMaterials: [BufferGeometry, Material][],\n  collisionGeometry: BufferGeometry,\n  position?: number[],\n  velocity?: number[],\n  scale?: number\n}\n\nexport const MeshWithCollision = forwardRef((props: any, ref?: any) => {\n  const [lastPressed, setLastPressed] = useState(false)\n  const happyPress = useKeyPress(\"h\");\n\n\n  const meshes = props.geometriesAndMaterials.map((item: any[]) => {\n    return (\n      <mesh geometry={item[0]} material={item[1]} scale={new Vector3(...Array(3).fill(props.scale || 1))}>\n      </mesh>\n    )\n  })\n  const collisionGeometry = props.collisionGeometry as BufferGeometry\n  collisionGeometry.computeBoundingSphere();\n  const boundingSphere = collisionGeometry.boundingSphere as Sphere;\n  const radius = boundingSphere.radius as number;\n  const d = 2.5\n  const eps = [-d, d]\n  ref = ref || createRef();\n  const [ref2, api] = useSphere(() => ({\n    position: props.position || [0 + getRandom(eps), 0 + getRandom(eps), 14.65 + getRandom(eps)],\n    rotation: [getRandom([-Math.PI, Math.PI]), getRandom([-Math.PI, Math.PI]), getRandom([-Math.PI, Math.PI])],\n    mass: 1,\n    args: radius ** 2 / (radius ** 1.3) * (props.scale || 1),\n    velocity: props.velocity,\n    angularDamping: 0.99,\n  }), ref)\n  useFrame(() => {\n    if (happyPress) {\n      if (!lastPressed) {\n        api.velocity.set(0, 0, 30);\n        api.angularVelocity.set(10, 12, 13)\n        setLastPressed(true)\n      }\n    } else {\n      setLastPressed(false);\n    }\n  })\n  return (\n    <group ref={ref}>\n      {meshes}\n    </group>\n  )\n})\n\nfunction getRandom(eps: number[]) {\n  return Math.floor(Math.random() * eps[1] - eps[0])\n}\n\n","/*\nAuto-generated by: https://github.com/pmndrs/gltfjsx\n*/\n\nimport React, { useEffect, useRef, useState } from 'react'\nimport { useGLTF } from '@react-three/drei'\nimport { usePlane, useTrimesh } from \"@react-three/cannon\";\nimport { BufferGeometry } from \"three/src/core/BufferGeometry\";\nimport { MeshWithCollision } from \"../components/MeshWithCollision\";\nimport { useSpring, animated, config } from \"@react-spring/three\";\nimport { useKeyPress } from \"../hooks\";\n\nexport default function Model(props: any) {\n  const group = useRef()\n  const {nodes, materials} = useGLTF('/gumball_separated.gltf') as any\n  const ref = useRef() as any;\n  const happyPress = useKeyPress('h');\n  const positions = Array.from((nodes.Object_3003.geometry as BufferGeometry).attributes.position.array)\n  const index = Array.from((nodes.Object_3003.geometry as BufferGeometry).getIndex()!.array)\n  const [holeref] = useTrimesh(() => ({\n    args: [positions, index],\n    position: [0, 0, 14.65],\n  }))\n\n  const positions3 = Array.from((nodes.Object_3002_1.geometry as BufferGeometry).attributes.position.array)\n  const index3 = Array.from((nodes.Object_3002_1.geometry as BufferGeometry).getIndex()!.array)\n  useTrimesh(() => ({\n    args: [positions3, index3], position: [0, -0.83, 2.79]\n  }), ref)\n\n  const baseGeometry = nodes.Object_3001.geometry as BufferGeometry;\n  const positions2 = Array.from(baseGeometry.attributes.position.array)\n  const index2 = Array.from(baseGeometry.getIndex()!.array)\n  const [ref2] = useTrimesh(() => ({args: [positions2, index2], position: [0.09, -0.41, 4.66]}))\n\n  let racoon1 = [\n    nodes.Object_3010,\n    nodes.Object_3010_1\n  ];\n  let ball1 = [\n    nodes.Object_3011,\n    nodes.Object_3011_1\n  ];\n  const itemsMeta = [\n    racoon1,\n    racoon1,\n    ball1,\n    [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ], [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ], [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ], [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ], [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ], [\n      nodes.Object_3017,\n      nodes.Object_3017_1\n    ],\n    [\n      nodes.Object_3020,\n      nodes.Object_3020_1\n    ],\n    [\n      nodes.Object_3021,\n      nodes.Object_3021_1\n    ],\n    [\n      nodes.Object_3022,\n      nodes.Object_3022_1\n    ],\n    [\n      nodes.Object_3023,\n      nodes.Object_3023_1\n    ],\n    [\n      nodes.Object_3027,\n      nodes.Object_3027_1\n    ],\n    [\n      nodes.Object_3029,\n      nodes.Object_3029_1\n    ],\n    [\n      nodes.Object_1006,\n      nodes.Object_1006_1\n    ],\n    [\n      nodes.Object_1008,\n      nodes.Object_1008_1\n    ],\n    [\n      nodes.Object_1009,\n      nodes.Object_1009_1\n    ],\n    [\n      nodes.Object_1011,\n      nodes.Object_1011_1\n    ],\n    [\n      nodes.candy005\n    ],\n    [\n      nodes.candy004\n    ],\n    [\n      nodes.candy003\n    ],\n    [\n      nodes.candy\n    ],\n    [\n      nodes.Object_1014,\n      nodes.Object_1014_1,\n    ],\n    [\n      nodes.Object_1015,\n      nodes.Object_1015_1,\n    ],\n    [\n      nodes.Object_1020,\n      nodes.Object_1020_1,\n    ]\n  ]\n  const itemsComponents = itemsMeta.map(item => {\n    return <MeshWithCollision\n      collisionGeometry={item[0].geometry}\n      geometriesAndMaterials={item.map(i => [i.geometry, i.material])}\n      velocity={happyPress ? [0, 0, 10] : [0, 0, 0]}\n    />\n  })\n  const {rotation}: any = useSpring({\n    rotation: [0, 0, 0],\n    from: {rotation: [1, 0, 0]},\n    to: {rotation: [0, 0, 0]},\n    reverse: happyPress,\n    config: config.gentle\n  });\n  const machine = <group>\n    <group position={[-5.58, -6, 0.93]}>\n      <mesh geometry={nodes.Object_1027.geometry} material={nodes.Object_1027.material}/>\n      <mesh geometry={nodes.Object_1027_1.geometry} material={nodes.Object_1027_1.material}/>\n    </group>\n    <group position={[-7.32, -6.38, 0.54]}>\n      <mesh geometry={nodes.Object_3009.geometry} material={nodes.Object_3009.material}/>\n      <mesh geometry={nodes.Object_3009_1.geometry} material={nodes.Object_3009_1.material}/>\n    </group>\n    <group position={[-7.02, -4.59, 0.98]}>\n      <mesh geometry={nodes.Object_3008.geometry} material={nodes.Object_3008.material}/>\n      <mesh geometry={nodes.Object_3008_1.geometry} material={nodes.Object_3008_1.material}/>\n    </group>\n    <group position={[9.76, -6.27, 2.63]}>\n      <mesh geometry={nodes.Object_2009.geometry} material={nodes.Object_2009.material}/>\n      <mesh geometry={nodes.Object_2009_1.geometry} material={nodes.Object_2009_1.material}/>\n    </group>\n    <group position={[7.04, -8.33, 1.55]}>\n      <mesh geometry={nodes.Object_2004.geometry} material={nodes.Object_2004.material}/>\n      <mesh geometry={nodes.Object_2004_1.geometry} material={nodes.Object_2004_1.material}/>\n    </group>\n    <group>\n      <mesh position={[0, 0, 14.65]} geometry={nodes.Object_3003.geometry} material={nodes.Object_3003.material}/>\n      <mesh position={[0, 0, 14.65]} geometry={nodes.Object_3003_1.geometry} material={materials.lambert5SG}/>\n    </group>\n    <group position={[0, 0, 22.18]}>\n      <mesh geometry={nodes.Object_4002.geometry} material={nodes.Object_4002.material}/>\n      <mesh geometry={nodes.Object_4002_1.geometry} material={nodes.Object_4002_1.material}/>\n    </group>\n    <mesh\n      geometry={nodes.container_shiny.geometry}\n      material={nodes.container_shiny.material}\n      position={[5.26, -2.53, 17.09]}\n    />\n    <mesh geometry={nodes.floor.geometry} material={materials.lambert2SG} position={[0, 0, -0.27]}/>\n    {/*base*/}\n    <group position={[0.09, -0.41, 4.66]} ref={ref2}>\n      <mesh geometry={nodes.Object_3001.geometry} material={nodes.Object_3001.material}/>\n      <mesh geometry={nodes.Object_3001_1.geometry} material={nodes.Object_3001_1.material}/>\n    </group>\n    {/*holecover*/}\n    <group position={[0, -0.83, 2.79]} ref={holeref}>\n      <mesh geometry={nodes.Object_3002.geometry} material={nodes.Object_3002.material}/>\n      <mesh geometry={nodes.Object_3002_1.geometry} material={nodes.Object_3002_1.material}/>\n    </group>\n    {/*stars*/}\n    <group position={[-3.42, 4.08, 12.44]}>\n      <mesh geometry={nodes.Object_5.geometry} material={materials.lambert4SG}/>\n      <mesh geometry={nodes.Object_5_1.geometry} material={materials.lambert7SG}/>\n    </group>\n    {/*handle*/}\n    <animated.group position={[4.54 - .7, -5.55 + 1.5, 4.1 - 2]} rotation={rotation}>\n      <axesHelper/>\n      <mesh geometry={nodes.Object_4003.geometry} material={nodes.Object_4003.material} position={[.7, -1.5, 2]}/>\n      <mesh geometry={nodes.Object_4003_1.geometry} material={nodes.Object_4003_1.material} position={[.7, -1.5, 2]}/>\n    </animated.group>\n  </group>\n  const [childrenmap, setChildrenMap] = useState({} as object)\n  const childref = useRef() as any\n  childref.current = childrenmap\n  const [lastSpawned, setLastSpawned] = useState(false);\n  const spawnBall = () => {\n    const item = [\n      nodes.Object_1020,\n      nodes.Object_1020_1,\n    ]\n    const newChild = <MeshWithCollision\n      collisionGeometry={item[0].geometry}\n      geometriesAndMaterials={item.map(i => [i.geometry, i.material])}\n      position={[0.09, -5.41, 2.66]}\n      velocity={[0, -8, -4]}\n      scale={2}\n    />\n    const code = uuidv4();\n    setChildrenMap({\n      ...childrenmap,\n      [code]: newChild\n    })\n    setTimeout(() => {\n      let a = {\n        ...childref.current,\n      }\n      delete a[code]\n      setChildrenMap(a)\n    }, 10000)\n  }\n  useEffect(() => {\n    window.addEventListener(\"keydown\", (e) => {\n      if (e.key === \"h\" && !lastSpawned) {\n        spawnBall()\n        setLastSpawned(true)\n      }\n    });\n    window.addEventListener(\"keyup\", (e) => {\n      if (e.key === \"h\") {\n        setLastSpawned(false);\n      }\n    })\n  })\n\n\n  return (\n    <animated.group ref={group} {...props} dispose={null}>\n      {machine}\n      {itemsComponents}\n      {Object.values(childrenmap)}\n      <Plane/>\n    </animated.group>\n  )\n}\n\nfunction Plane(props: any) {\n  const [ref] = usePlane(() => ({...props}))\n  return (\n    <mesh ref={ref}>\n      <planeBufferGeometry args={[100, 100]}/>\n      <meshBasicMaterial transparent opacity={0}/>\n    </mesh>\n  )\n}\n\nfunction uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\nuseGLTF.preload('/gumball_separated.gltf')\n","import { useSpring, animated, config } from \"@react-spring/three\";\nimport { useKeyPress } from \"../hooks\";\nimport { OrbitControls } from \"@react-three/drei\";\nimport { useFrame, useThree } from \"@react-three/fiber\";\n\nexport const Camera = (props) => {\n  const { gl, camera } = useThree();\n\n  const happyPress = useKeyPress('h');\n  const {position} = useSpring({\n    from: {\n      position: [0,0,0],\n    },\n    to: [\n      {\n        position: [0,-30,15],\n      },\n      ],\n    position: [0,-40,10],\n    reverse: happyPress,\n    config: config.molasses\n  })\n  useFrame(() => {\n    const [x, y ,z] = position.get()\n    camera.position.set(x, y, z)\n  })\n  return (\n    <OrbitControls target={[0,0,10]} args={[camera, gl.domElement]}/>\n  )\n};\n","import confetti from \"canvas-confetti\";\n\nexport function fireRandom() {\n  var count = 200;\n  var defaults = {\n    origin: {y: Math.random(), x: Math.random()}\n  };\n\n  function fire(particleRatio, opts) {\n    confetti(Object.assign({}, defaults, opts, {\n      particleCount: Math.floor(count * particleRatio)\n    }));\n  }\n\n  fire(0.25, {\n    spread: 26,\n    startVelocity: 55,\n  });\n  fire(0.2, {\n    spread: 60,\n  });\n  fire(0.35, {\n    spread: 100,\n    decay: 0.91,\n    scalar: 0.8\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 25,\n    decay: 0.92,\n    scalar: 1.2\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 45,\n  });\n}\n\nexport function doDefaultConfetti(e) {\n  var count = 200;\n  var defaults = {\n    origin: {y: 0.7}\n  };\n\n  function fire(particleRatio, opts) {\n    confetti(Object.assign({}, defaults, opts, {\n      particleCount: Math.floor(count * particleRatio)\n    }));\n  }\n\n  fire(0.25, {\n    spread: 26,\n    startVelocity: 55,\n  });\n  fire(0.2, {\n    spread: 60,\n  });\n  fire(0.35, {\n    spread: 100,\n    decay: 0.91,\n    scalar: 0.8\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 25,\n    decay: 0.92,\n    scalar: 1.2\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 45,\n  });\n}\n\nexport function doConfetti(e, vw, vh) {\n  var count = 200;\n  var defaults = {\n    origin: {x: e.pageX / vw, y: e.pageY / vh}\n  };\n\n  function fire(particleRatio, opts) {\n    confetti(Object.assign({}, defaults, opts, {\n      particleCount: Math.floor(count * particleRatio)\n    }));\n  }\n\n  fire(0.25, {\n    spread: 26,\n    startVelocity: 55,\n  });\n  fire(0.2, {\n    spread: 60,\n  });\n  fire(0.35, {\n    spread: 100,\n    decay: 0.91,\n    scalar: 0.8\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 25,\n    decay: 0.92,\n    scalar: 1.2\n  });\n  fire(0.1, {\n    spread: 120,\n    startVelocity: 45,\n  });\n}\n\nexport function getReward() {\n  //TODO set a limit for rewards already gotten\n  //TODO set a limit for rolls\n\n  // higher number = more common\n  const rewards: [string, number][] = [\n    // rewards :)\n    ['Literally skip the dishes', 10],\n    ['Homecooked breakfast/lunch/dinner of your choice', 10],\n    ['Restaurant of your choice', 10],\n    ['Foot massage', 10],\n    ['Shoulders/back massage', 10],\n    [\"1 free hug\", 10],\n    ['Homecooked lunch', 10],\n    ['Ride to work for 1 day', 5],\n    ['Tiktok of your choice', 5],\n    ['Breakfast in bed', 5],\n    ['Special Request', 4],\n    [\"Jordan cleans your room\", 4],\n    ['Ride to work for 5 days', 3],\n    ['Ride to work for 10 days', 1],\n    ['You get nothing', 1],\n    [\"Yes day\", 1],\n    [\"One day of no interruptions\", 5],\n    [\"One day without me\", 4],\n\n    // punishments :(\n    ['Cosplay of your choice', 9],\n    ['Matching Halloween costumes of your choice', 14],\n\n\n\n\n\n\n    ['Ajay will pay for dinner of our choice (max $1)', 1],\n    ['Derek will pay for dinner of our choice (max $1)', 5],\n    ['Bilal will pay for dinner of our choice (max $1)', 1],\n    ['Aaron will pay for dinner of our choice (max $100) (he can come along)', 1],\n  ];\n\n\n\n\n\n\n\n\n\n\n\n\n\n  // First, we loop the main dataset to count up the total weight.\n  // We're starting the counter at one because the upper boundary\n  // of Math.random() is exclusive.\n  let total = 0;\n  for (let i = 0; i < rewards.length; ++i) {\n    total += rewards[i][1];\n  }\n\n  // Total in hand, we can now pick a random value akin to our\n  // random index from before.\n  const threshold = Math.random() * total;\n\n  // Now we just need to loop through the main data one more time\n  // until we discover which value would live within this\n  // particular threshold. We need to keep a running count of\n  // weights as we go, so let's just reuse the \"total\" variable\n  // since it was already declared.\n  total = 0;\n  for (let i = 0; i < rewards.length - 1; ++i) {\n    // Add the weight to our running total.\n    total += rewards[i][1];\n\n    // If this value falls within the threshold, we're done!\n    if (total >= threshold) {\n      return rewards[i][0] + \"!\";\n    }\n  }\n\n  // Wouldn't you know it, we needed the very last entry!\n  return rewards[rewards.length - 1][0] + \"!\";\n}","import React, { Suspense, useEffect, useRef, useState } from 'react';\nimport './App.css';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\nimport Model from \"./model/Gumball_separated\";\nimport { Debug, Physics } from '@react-three/cannon'\nimport { Object3D, Vector3 } from \"three\";\nimport { Camera } from \"./components/Camera\";\nimport { useGLTF } from \"@react-three/drei\";\nimport { doConfetti, fireRandom, getReward } from \"./utils\";\nimport { log } from \"util\";\n\nfunction Overlay(props) {\n  const rewardRef = useRef<Object3D>();\n  const {gl, camera} = useThree();\n  const [ballPosition, setBallPosition] = useState(new Vector3(0, 0, 0));\n  const [ballRotation, setBallRotation] = useState(0);\n  const {nodes, materials} = useGLTF('/gumball_separated.gltf') as any\n  const item = [\n    nodes.Object_1020,\n    nodes.Object_1020_1,\n  ]\n  const [hovering, setHovering] = useState(false);\n\n  useFrame(() => {\n    const d = new Vector3(0, 0, 0)\n    const c = new Vector3(0, 0, 0)\n    camera.getWorldDirection(d);\n    camera.getWorldPosition(c);\n    d.normalize()\n      .multiplyScalar(5);\n    c.add(d)\n    setBallPosition(c);\n    setBallRotation(ballRotation + 0.005)\n  })\n\n  return (\n    <group position={ballPosition}>\n      <mesh ref={rewardRef} geometry={item[0].geometry} material={item[0].material}\n            rotation={[0, 0.1 * ballRotation, ballRotation]}\n            onPointerOver={(event) => setHovering(true)}\n            onPointerOut={(event) => setHovering(false)}\n            onClick={props.onBallClick}\n      >\n        <meshStandardMaterial color={hovering ? 'hotpink' : 'orange'} />\n      </mesh>\n      <mesh ref={rewardRef} geometry={item[1].geometry} material={item[1].material}\n            rotation={[0, 0.1 * ballRotation, ballRotation]}/>\n    </group>\n  )\n}\n\nfunction OtherOverlay(props) {\n  const {innerWidth: width, innerHeight: height} = window;\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        width: \"100vw\",\n        height: \"100vh\",\n        backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n        color: \"white\",\n        zIndex: 1\n      }}\n      onClick={(e) => doConfetti(e, width, height)}>\n      <div style={{\n        position: 'absolute', left: '50%', top: '50%',\n        transform: 'translate(-50%, -50%)',\n        fontSize: \"50px\",\n        textAlign: \"center\"\n      }}>\n        {props.text || \"Hello, world!\"}\n      </div>\n    </div>\n  )\n}\n\nfunction App() {\n  Object3D.DefaultUp.set(0, 0, 1);\n  const [overlayVisible, setOverlayVisible] = useState(false);\n  const [overlay2Visible, setOverlay2Visible] = useState(false);\n  const [overlayDelay, setOverlayDelay] = useState(false);\n  const [confettiIntervals, setConfettiIntervals] = useState<any[]>([]);\n  const [rewardText, setRewardText] = useState(\"Hello World!\");\n\n  const setConfetti = () => {\n    const interval1 = setInterval(() => {\n      fireRandom()\n    }, 1000)\n\n    const interval2 = setInterval(() => {\n      fireRandom()\n    }, 1645)\n    setConfettiIntervals([interval1, interval2])\n  }\n  const onRewardClick = () => {\n    setRewardText(getReward())\n    setOverlay2Visible(true);\n    setConfetti()\n  }\n  useEffect(() => {\n    const aFunc = (e) => {\n      if (e.key === \"h\" && !overlayDelay) {\n        setOverlayDelay(true)\n        setTimeout(() => {\n          setOverlayVisible(true);\n        }, 2000)\n      }\n    }\n    const bFunc = (e) => {\n      if (e.key === \"e\" && overlayDelay) {\n        reset()\n      }\n    }\n    window.addEventListener(\"keydown\", aFunc);\n    window.addEventListener(\"keydown\", bFunc);\n\n    return () => {\n      window.removeEventListener('keydown', aFunc)\n      window.removeEventListener('keydown', bFunc)\n    }\n  })\n  const reset = () => {\n    setOverlayDelay(false);\n    setOverlayVisible(false);\n    confettiIntervals.forEach(timeout => {\n      clearInterval(timeout)\n    })\n    setConfettiIntervals([])\n    setOverlay2Visible(false);\n  }\n  return (\n    <>\n      {overlay2Visible ? <OtherOverlay text={rewardText}/> : null}\n      <Canvas style={{height: \"100vh\"}}>\n\n        {overlayVisible ? <Overlay onBallClick={onRewardClick}/> : null}\n        <ambientLight/>\n        <pointLight position={[10, 10, 10]}/>\n        <Suspense fallback={null}>\n          <Physics gravity={[0, 0, -10]} defaultContactMaterial={{restitution: 0.5}}>\n            <Debug color=\"black\" scale={1.05}>\n            </Debug>\n            <Model/>\n          </Physics>\n        </Suspense>\n        <Camera/>\n      </Canvas>\n    </>\n  );\n}\n\nuseGLTF.preload('/gumball_separated.gltf')\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}